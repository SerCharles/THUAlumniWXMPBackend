

```
我这两天会陆续改
```

```
目前已经改了的是发起活动接口
```

```
一次性预留了高级报名规则定义等功能的接口 不过你不用急着实现
```

```
这个助教更新了 流程简化了 但是需要后端的参与
```

```
因为我可能也有点忙所以你要不要试着把后端的部分做了去
```

```
我描述一下流程1.前端携带code，请求login接口；2.在上述请求的处理过程中，后端拿着code去微信的codetosessionAPI，换取到用户的openId和session_key后；后端再自己随机产生一个session，把它们三个都存起来；然后再返回上面的请求，其中的session、openId要返回给前端。3.前端请求alumniCheck接口；4.在上述请求的处理过程中，后端向清华人发起一个身份验证（阅读上面的文档），得到的requestId保存到这个openId的人的名下，param则作为3中请求的返回值返回给前端。5.从这之后直到身份信息被传回之前，如果后端收到了userData请求，返回errid101的HTTP400，详见yapi上对应接口的说明；6.等待直到回调接口(qhrcallback)收到了清华人发来的用户信息（见上面文档），则修改数据库等等7.从这之后的userData请求，就正常返回用户的信息了你需要：（下面所有接口在yapi中都定义了，可以具体查看）实现login接口，其中请求微信的codetosession实现alumniCheck接口，其中请求清华人的发起身份验证实现userData接口，返回用户的详细信息实现qhrcallback接口，接收从清华人服务器发过来的校友信息，把内容写进数据库
```

微信

id:wx0f78ea2cc2151d53

secretid:8d2c958c90e94bf1da9e380ea09652e6

小程序

appid：A01 

```
appsecret：f5865de5094b6b5b3d95dfe8a68fa574
```